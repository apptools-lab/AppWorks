# O2 SPECIFIC

O2 is a Ali internal editor, if you are a community developer, **PLEASE IGNORE** this document.

AppWorks converts VS Code Pack to O2 Pack, this document describes the develop, debug, and publish of the O2 Pack.

## General O2 Pack 

General O2 pack by following commands:

```bash
$ git clone git@github.com:appworks-lab/pack.git
$ cd appworks/
$ npm install
# before run this script, modify `pushExtension2Npm` param which is in `./config.ts` to true when publish to tnpm
$ npm run o2:general
```

> IMPORTANT: please **DO NOT** publish the changes generated by this command to git!!!

## Debug O2 Pack

```bash
$ tnpm install @ali/kaitian-cli -g
$ cd extensions/appworks
$ tnpm install
$ npm run compile
$ kaitian dev
```

## Publish O2 Pack

```bash
# appworks.zip generated
$ npm run o2:package

# test
$ kaitian install extensions/appworks/iceworks-team-iceworks-x.x.x.zip # install Pack to o2
$ o2 # open o2 by CLI

# upload appworks.zip to OSS
$ ACCESS_KEY_ID=xxx ACCESS_KEY_SECRET=xxx npm run o2:upload

# O2.icework-kit published to Ali Marketplace
$ npm run o2:release PRIVATE_TOKEN
```
